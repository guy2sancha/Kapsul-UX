<style>
#mobileHeader {
  position: fixed;
  top: 0; left: 0; right: 0;
  display: flex;
  align-items: center;
  padding: 10px;
  background-color: #001d20;
  border-bottom: 1px solid #001d20;
  z-index: 1000;
}

.mobile-left, .mobile-center, .mobile-right {
  flex: 1;
  display: flex;
  align-items: center;
}

.mobile-left { justify-content: flex-start; }
.mobile-center { justify-content: center; }
.mobile-right { justify-content: flex-end; }

.mobile-logo img {
  height: 40px;
}

.mobile-select select {
  padding: 5px;
  border-radius: 5px;
  font-size: 14px;
  background-color: #F6F4EF;
  color: #000;
  border: 1px solid #ccc;
}

.hamburger {
  font-size: 24px;
  cursor: pointer;
  color: #fff;
}

/* Overlay */
#mobileOverlay {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(0,0,0,0.5);
  z-index: 1999;
}

#mobileMenu {
  position: fixed;
  top: 0;
  right: -280px;
  width: 260px;
  height: 100%;
  background-color: #F6F4EF;
  box-shadow: -2px 0 5px rgba(0,0,0,0.3);
  transition: right 0.3s ease;
  z-index: 2000;
  padding: 20px;
  overflow-y: auto;
}

#mobileMenu.open { right: 0; }
#mobileOverlay.show { display: block; }

#mobileMenu h3 {
  margin-top: 0;
  font-size: 20px;
  color: #001d20;
}

/* Menu items */
.menu-category {
  cursor: pointer;
  padding: 12px;
  background-color: #fff;
  margin: 10px 0 5px;
  font-weight: bold;
  border-radius: 6px;
  color: #001d20;
}

.menu-category:hover {
  background-color: #e6e6e6;
}

.submenu {
  display: none;
  padding-left: 10px;
}

.menu-category.open + .submenu {
  display: block;
}

.submenu a {
  display: flex;
  align-items: center;
  padding: 8px 0;
  color: #333;
  font-size: 14px;
  text-decoration: none;
}

.submenu a span {
  margin-right: 8px;
  width: 20px;
  text-align: center;
}

.submenu a:hover {
  background-color: #f0f0f0;
}
</style>

<div id="mobileHeader">
  <div class="mobile-left">
    <div class="mobile-select">
      <select id="languageSelector">
        <option value="en">EN</option>
      </select>
    </div>
  </div>

  <div class="mobile-center">
    <div class="mobile-logo">
      <a href="/"><img src="https://open-circle.b-cdn.net/Logo/KAPSUL%201200x400%20(16).png" alt="Kapsul Logo"></a>
    </div>
  </div>

  <div class="mobile-right">
    <span class="hamburger" onclick="toggleMobileMenu()">☰</span>
  </div>
</div>

<div id="mobileOverlay" onclick="closeMobileMenu()"></div>

<div id="mobileMenu">
  <h3>Navigation</h3>

  <div class="menu-category" onclick="toggleSubmenu(this)">📌 Services & Experts</div>
  <div class="submenu">
    <a href="/experts-partners/healthcare"><span>🏥</span>Healthcare & Medical</a>
    <a href="/experts-partners/finance"><span>💳</span>Finance & Insurance</a>
    <a href="/experts-partners/legal"><span>⚖️</span>Legal & Visa</a>
    <a href="/experts-partners/beauty"><span>💆</span>Beauty & Wellness</a>
    <a href="/experts-partners/fitness"><span>🏋️</span>Fitness</a>
    <a href="/experts-partners/home"><span>🏠</span>Home</a>
    <a href="/experts-partners/childcare"><span>👶</span>Childcare</a>
  </div>

  <div class="menu-category" onclick="toggleSubmenu(this)">📍 Places & Community</div>
  <div class="submenu">
    <a href="#"><span>🛍️</span>Shops</a>
    <a href="#"><span>🍽️</span>Restaurants</a>
    <a href="#"><span>🍻</span>Bars</a>
    <a href="#"><span>☕️</span>Cafés</a>
    <a href="#"><span>🏨</span>Hotels & Ryokans</a>
    <a href="#"><span>📅</span>Coworking</a>
    <a href="#"><span>🏋️</span>Gyms</a>
    <a href="#"><span>🖼️</span>Arts & Gallery</a>
  </div>

  <div class="menu-category" onclick="toggleSubmenu(this)">🛍️ Products & Brands</div>
  <div class="submenu">
    <a href="/home-decor"><span>🏠</span>Home & Decor</a>
    <a href="/food-drink"><span>🍱</span>Food & Drink</a>
    <a href="/alcohol"><span>🍶</span>Alcohol</a>
    <a href="/beauty-wellness"><span>💄</span>Beauty</a>
    <a href="/jewelry"><span>💍</span>Jewelry</a>
    <a href="/fashion"><span>👕</span>Fashion</a>
    <a href="/kids-baby"><span>👶</span>Kids & Baby</a>
    <a href="/paper-gifts"><span>📄</span>Gifts & Paper</a>
    <a href="/pets"><span>🐾</span>Pets</a>
  </div>

  <div class="menu-category" onclick="toggleSubmenu(this)">📱 Apps & Platforms</div>
  <div class="submenu">
    <a href="#"><span>🚇</span>Transport</a>
    <a href="#"><span>🏠</span>Housing</a>
    <a href="#"><span>💳</span>Payments</a>
    <a href="#"><span>🏥</span>Health</a>
    <a href="#"><span>🛍️</span>Shopping</a>
    <a href="#"><span>🍜</span>Food Delivery</a>
    <a href="#"><span>🇯🇵</span>Living in Japan</a>
    <a href="#"><span>💬</span>Language</a>
  </div>

  <div class="menu-category" onclick="toggleSubmenu(this)">🎉 Events</div>
  <div class="submenu">
    <a href="/events/circle"><span>🍸</span>Get in the Circle</a>
    <a href="/events/popups"><span>🛍️</span>Popups</a>
    <a href="/events/other"><span>💡</span>Workshops</a>
  </div>
</div>

<script>
function toggleMobileMenu() {
  document.getElementById("mobileMenu").classList.toggle("open");
  document.getElementById("mobileOverlay").classList.toggle("show");
}

function closeMobileMenu() {
  document.getElementById("mobileMenu").classList.remove("open");
  document.getElementById("mobileOverlay").classList.remove("show");
}

function toggleSubmenu(el) {
  el.classList.toggle("open");
  const next = el.nextElementSibling;
  if (next && next.classList.contains("submenu")) {
    next.style.display = next.style.display === "block" ? "none" : "block";
  }
}
</script>
